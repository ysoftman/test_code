<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <link href="common.css" rel="stylesheet" type="text/css" media="all">
    <!-- example: https://nostalgic-css.github.io/NES.css/#installation -->
    <link href="https://unpkg.com/nes.css/css/nes.css" rel="stylesheet" />
    <!-- dot font 사용 -->
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <style>
      html, body, pre, code, kbd, samp {
          font-family: "Press Start 2P";
          font-size: 14px;
      }
    </style>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-storage.js"></script>
    <script src="web_api_key.js" type="module"></script>
    <script src="common.js" type="module"></script>
    <script type="module">
        import {setFirestoreDoc, getFirestoreVisitCnt, loadImages} from "./common.js"
        //setFirestoreDoc("index", "ysoftman");
        getFirestoreVisitCnt("index", "ysoftman", "visitcnt")
        const imgNames = []
        imgNames.push("박카스.jpg")
        imgNames.push("xelloss.jpg")
        imgNames.push("cold_snow_by_guweiz.jpg")
        imgNames.push("morning_light_by_mizukiaoki.png")
        // image div 태그를 구성해 이미지 순서를 보장
        loadImages("images", imgNames)
    </script>
    <title>ysoftman-firebase</title>
</head>

<body>
    <div class="index-navbar">
        <div class="container">
            <h2>
                <a href="index.html">
                    <button type="button" class="nes-btn is-success"><b>index</b></button>
                </a>
                <a href="restaurant_pangyo.html">
                    <button type="button" class="nes-btn is-success"><b>판교식당</b></button>
                </a>
                <span>
                    <button class="nes-btn is-primary" id='login_anonymous'>login anonymous</button>
                    <button class="nes-btn is-primary" id="login_google">login google</button>
                </span>
            </h2>
        </div>
    </div>
    <div class="index-body nes-text">
        <div class="main">
            <a href="https://github.com/ysoftman/test_code/tree/master/firebase" target="_blank" class="github-link">
                <p class="nes-balloon from-right">
                    <span class="nes-text is-primary">ysoftman firebase test</span><br>
                    <span class="nes-text is-error">this page uses NES.CSS<br>and Press_Start_2P font</span>
                </p>
                <i class="nes-octocat animate"></i>
            </a>
        </div>
        <div class="lists">
            <ul class="nes-list is-disc">
                <h1><li>visitCnt from firestore database: <span id=visitcnt></span></li></h1>
            </ul>
            <p>load images from firebase storage</p>
        </div>
        <div id=images></div>
    </div>

</html>

